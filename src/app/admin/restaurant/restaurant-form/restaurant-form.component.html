<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item">
      <a routerLink="/restaurants">Restaurants</a>
    </li>
    <li class="breadcrumb-item active" *ngIf="!restaurantId" aria-current="page">New Restaurant</li>
    <li class="breadcrumb-item active" *ngIf="restaurantId" aria-current="page">Edit Restaurant</li>
  </ol>
</nav>

<div class="row">
  <div class="col-md-12">
    <form [formGroup]="restaurantFormGroup" novalidate="novalidate">
      <div class="row">
        <div class="col-sm-6">
          <div class=" form-group">
            <label>Restaurant Name</label>
            <input type="text" class="form-control" [ngClass]="{'is-invalid': restaurantFormGroup.controls['restaurantName'].errors && !restaurantFormGroup.controls['restaurantName'].pristine}"
              name="restaurantName" formControlName="restaurantName" maxlength="50">
            <div *ngIf="restaurantFormGroup.controls['restaurantName'].errors && !restaurantFormGroup.controls['restaurantName'].pristine"
              class="invalid-feedback">
              <div [hidden]="!restaurantFormGroup.controls['restaurantName'].errors.required">Restaurant name is required.</div>
              <div [hidden]="!restaurantFormGroup.controls['restaurantName'].errors.minlength"> Restaurant name must be at least 3 characters long.</div>
            </div>
          </div>
        </div>
        <div class="col-sm-6">
          <div class=" form-group">
            <label>Restaurant Type</label>
            <select class="form-control" [ngClass]="{'is-invalid': restaurantFormGroup.controls['restaurantTypeId'].errors && !restaurantFormGroup.controls['restaurantTypeId'].pristine}"
              name="restaurantTypeId" id="restaurantTypeId" formControlName="restaurantTypeId">
              <option value="">Select Restaurant Type</option>
              <option *ngFor="let restaurantType of restaurantTypes" [ngValue]="restaurantType.restaurantTypeId">{{restaurantType.restaurantTypeName}}</option>
            </select>
            <div *ngIf="restaurantFormGroup.controls['restaurantTypeId'].errors && !restaurantFormGroup.controls['restaurantTypeId'].pristine"
              class="invalid-feedback">
              <div [hidden]="!restaurantFormGroup.controls['restaurantTypeId'].errors.required">Restaurant type is required.</div>
            </div>
          </div>
        </div>
      </div>
      <div class="form-group">
        <label>Email</label>
        <input type="text" class="form-control" [ngClass]="{'is-invalid': restaurantFormGroup.controls['restaurantEmail'].errors && !restaurantFormGroup.controls['restaurantEmail'].pristine}"
          name="restaurantEmail" id="restaurantEmail" formControlName="restaurantEmail">
        <div *ngIf="restaurantFormGroup.controls['restaurantEmail'].errors && !restaurantFormGroup.controls['restaurantEmail'].pristine"
          class="invalid-feedback">
          <div [hidden]="!restaurantFormGroup.controls['restaurantEmail'].errors.required">Email is required.</div>
          <div [hidden]="!restaurantFormGroup.controls['restaurantEmail'].errors.pattern">Invalid Email address.</div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-4">
          <div class="form-group">
            <label>Phone Number 1</label>
            <input type="text" class="form-control" [ngClass]="{'is-invalid': restaurantFormGroup.controls['restaurantPhone1'].errors && !restaurantFormGroup.controls['restaurantPhone1'].pristine}"
              name="restaurantPhone1" id="restaurantPhone1" formControlName="restaurantPhone1" maxlength="12">
            <div *ngIf="restaurantFormGroup.controls['restaurantPhone1'].errors && !restaurantFormGroup.controls['restaurantPhone1'].pristine"
              class="invalid-feedback">
              <div [hidden]="!restaurantFormGroup.controls['restaurantPhone1'].errors.required">Phone Number 1 is required.</div>
              <div [hidden]="!restaurantFormGroup.controls['restaurantPhone1'].errors.minlength">Phone Number 1 must be at least 5 characters long.</div>
              <div [hidden]="!restaurantFormGroup.controls['restaurantPhone1'].errors.pattern">Numbers only.</div>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="form-group">
            <label>Phone Number 2</label>
            <input type="text" class="form-control" [ngClass]="{'is-invalid': restaurantFormGroup.controls['restaurantPhone2'].errors && !restaurantFormGroup.controls['restaurantPhone2'].pristine}"
              name="restaurantPhone2" id="restaurantPhone2" formControlName="restaurantPhone2" maxlength="12">
            <div *ngIf="restaurantFormGroup.controls['restaurantPhone2'].errors && !restaurantFormGroup.controls['restaurantPhone2'].pristine"
              class="invalid-feedback">
              <div [hidden]="!restaurantFormGroup.controls['restaurantPhone2'].errors.required">Phone Number 2 is required.</div>
              <div [hidden]="!restaurantFormGroup.controls['restaurantPhone2'].errors.minlength">Phone Number 2 must be at least 5 characters long.</div>
              <div [hidden]="!restaurantFormGroup.controls['restaurantPhone2'].errors.pattern">Numbers only.</div>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="form-group">
            <label>Text Phone Number</label>
            <input type="text" class="form-control" [ngClass]="{'is-invalid': restaurantFormGroup.controls['restaurantTextPhoneNumber'].errors && !restaurantFormGroup.controls['restaurantTextPhoneNumber'].pristine}"
              name="restaurantTextPhoneNumber" id="restaurantTextPhoneNumber" formControlName="restaurantTextPhoneNumber" maxlength="12">
            <div *ngIf="restaurantFormGroup.controls['restaurantTextPhoneNumber'].errors && !restaurantFormGroup.controls['restaurantTextPhoneNumber'].pristine"
              class="invalid-feedback">
              <div [hidden]="!restaurantFormGroup.controls['restaurantTextPhoneNumber'].errors.required">Text Phone Number is required.</div>
              <div [hidden]="!restaurantFormGroup.controls['restaurantTextPhoneNumber'].errors.minlength">Text Phone Number must be at least 5 characters long.</div>
              <div [hidden]="!restaurantFormGroup.controls['restaurantTextPhoneNumber'].errors.pattern">Numbers only.</div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <label>Fax</label>
            <input type="text" class="form-control" [ngClass]="{'is-invalid': restaurantFormGroup.controls['restaurantFaxNumber'].errors && !restaurantFormGroup.controls['restaurantFaxNumber'].pristine}"
              name="restaurantFaxNumber" id="restaurantFaxNumber" formControlName="restaurantFaxNumber" maxlength="12">
            <div *ngIf="restaurantFormGroup.controls['restaurantFaxNumber'].errors && !restaurantFormGroup.controls['restaurantFaxNumber'].pristine"
              class="invalid-feedback">
              <div [hidden]="!restaurantFormGroup.controls['restaurantFaxNumber'].errors.required">Fax is required.</div>
              <div [hidden]="!restaurantFormGroup.controls['restaurantFaxNumber'].errors.minlength">Fax must be at least 5 characters long.</div>
              <div [hidden]="!restaurantFormGroup.controls['restaurantFaxNumber'].errors.pattern">Numbers only.</div>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label>Open Days</label>
            <p-multiSelect [options]="weekDays" [styleClass]="'w-100 form-control'" formControlName="restaurantOpenDays"></p-multiSelect>
            <div *ngIf="restaurantFormGroup.controls['restaurantOpenDays'].errors && !restaurantFormGroup.controls['restaurantOpenDays'].pristine"
              class="text-danger">
              <div [hidden]="!restaurantFormGroup.controls['restaurantOpenDays'].errors.required">Open days is required.</div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <label>Street 1</label>
            <input type="text" class="form-control" [ngClass]="{'is-invalid': restaurantFormGroup.controls['restaurantStreet1'].errors && !restaurantFormGroup.controls['restaurantStreet1'].pristine}"
              name="restaurantStreet1" id="restaurantStreet1" formControlName="restaurantStreet1" maxlength="50">
            <div *ngIf="restaurantFormGroup.controls['restaurantStreet1'].errors && !restaurantFormGroup.controls['restaurantStreet1'].pristine"
              class="invalid-feedback">
              <div [hidden]="!restaurantFormGroup.controls['restaurantStreet1'].errors.required">Street 1 is required.</div>
              <div [hidden]="!restaurantFormGroup.controls['restaurantStreet1'].errors.minlength">Street 1 must be at least 3 characters long.</div>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label>Street 2</label>
            <input type="text" class="form-control" [ngClass]="{'is-invalid': restaurantFormGroup.controls['restaurantStreet2'].errors && !restaurantFormGroup.controls['restaurantStreet2'].pristine}"
              name="restaurantStreet2" id="restaurantStreet2" formControlName="restaurantStreet2">
            <div *ngIf="restaurantFormGroup.controls['restaurantStreet2'].errors && !restaurantFormGroup.controls['restaurantStreet2'].pristine"
              class="invalid-feedback">
              <div [hidden]="!restaurantFormGroup.controls['restaurantStreet2'].errors.required">Street 2 is required.</div>
              <div [hidden]="!restaurantFormGroup.controls['restaurantStreet2'].errors.minlength">Street 2 must be at least 3 characters long.</div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-3 form-group">
          <label>City</label>
          <input type="text" name="restaurantCity" id="restaurantCity" class="form-control" [ngClass]="{'is-invalid': restaurantFormGroup.controls['restaurantCity'].errors && !restaurantFormGroup.controls['restaurantCity'].pristine}"
            formControlName="restaurantCity" maxlength="50">
          <div *ngIf="restaurantFormGroup.controls['restaurantCity'].errors && !restaurantFormGroup.controls['restaurantCity'].pristine"
            class="invalid-feedback">
            <div [hidden]="!restaurantFormGroup.controls['restaurantCity'].errors.required">City is required.</div>
            <div [hidden]="!restaurantFormGroup.controls['restaurantCity'].errors.minlength">City must be at least 3 characters long.</div>
          </div>
        </div>
        <div class="col-sm-3 form-group">
          <label>State</label>
          <select class="form-control" [ngClass]="{'is-invalid': restaurantFormGroup.controls['restaurantState'].errors && !restaurantFormGroup.controls['restaurantState'].pristine}"
            name="restaurantState" id="restaurantState" formControlName="restaurantState">
            <option value="">Select State</option>
            <option *ngFor="let state of states" [ngValue]="state.abbreviation">{{state.name}}</option>
          </select>
          <div *ngIf="restaurantFormGroup.controls['restaurantState'].errors && !restaurantFormGroup.controls['restaurantState'].pristine"
            class="invalid-feedback">
            <div [hidden]="!restaurantFormGroup.controls['restaurantState'].errors.required">State is required.</div>
          </div>
        </div>
        <div class="col-sm-3 form-group">
          <label>Zip</label>
          <input type="text" class="form-control" [ngClass]="{'is-invalid': restaurantFormGroup.controls['restaurantZipCode'].errors && !restaurantFormGroup.controls['restaurantZipCode'].pristine}"
            name="restaurantZipCode" formControlName="restaurantZipCode" maxlength="6">
          <div *ngIf="restaurantFormGroup.controls['restaurantZipCode'].errors && !restaurantFormGroup.controls['restaurantZipCode'].pristine"
            class="invalid-feedback">
            <div [hidden]="!restaurantFormGroup.controls['restaurantZipCode'].errors.required">Zip is required.</div>
            <div [hidden]="!restaurantFormGroup.controls['restaurantZipCode'].errors.minlength">Zip must be at least 6 characters long.</div>
            <div [hidden]="!restaurantFormGroup.controls['restaurantZipCode'].errors.pattern">Numbers only.</div>
          </div>
        </div>
        <div class="col-sm-3 form-group">
          <label>Country</label>
          <input type="text" class="form-control" [attr.disabled]="true" [ngClass]="{'is-invalid': restaurantFormGroup.controls['restaurantCountry'].errors && !restaurantFormGroup.controls['restaurantCountry'].pristine}"
            name="restaurantCountry" formControlName="restaurantCountry" maxlength="50">
          <div *ngIf="restaurantFormGroup.controls['restaurantCountry'].errors && !restaurantFormGroup.controls['restaurantCountry'].pristine"
            class="invalid-feedback">
            <div [hidden]="!restaurantFormGroup.controls['restaurantCountry'].errors.required">Country is required.</div>
            <div [hidden]="!restaurantFormGroup.controls['restaurantCountry'].errors.minlength">Country must be at least 3 characters long.</div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-4 form-group">
          <label>Open Time</label>
          <input type="time" class="form-control" [ngClass]="{'is-invalid': restaurantFormGroup.controls['restaurantOpenTime'].errors && !restaurantFormGroup.controls['restaurantOpenTime'].pristine}"
            name="restaurantOpenTime" formControlName="restaurantOpenTime">
          <div *ngIf="restaurantFormGroup.controls['restaurantOpenTime'].errors && !restaurantFormGroup.controls['restaurantOpenTime'].pristine"
            class="invalid-feedback">
            <div [hidden]="!restaurantFormGroup.controls['restaurantOpenTime'].errors.required">Open Time is required.</div>
          </div>
        </div>
        <div class="col-sm-4 form-group">
          <label>Close Time</label>
          <input type="time" class="form-control" [ngClass]="{'is-invalid': restaurantFormGroup.controls['restaurantCloseTime'].errors && !restaurantFormGroup.controls['restaurantCloseTime'].pristine}"
            name="restaurantCloseTime" formControlName="restaurantCloseTime">
          <div *ngIf="restaurantFormGroup.controls['restaurantCloseTime'].errors && !restaurantFormGroup.controls['restaurantCloseTime'].pristine"
            class="invalid-feedback">
            <div [hidden]="!restaurantFormGroup.controls['restaurantCloseTime'].errors.required">Close Time is required.</div>
          </div>
        </div>
        <div class="col-sm-4 form-group">
          <label>Discount</label>
          <input type="text" class="form-control" currencyMask [ngClass]="{'is-invalid': restaurantFormGroup.controls['restaurantDiscount'].errors && !restaurantFormGroup.controls['restaurantDiscount'].pristine}"
            name="restaurantDiscount" formControlName="restaurantDiscount" [options]="{ prefix: '% '}">
          <div *ngIf="restaurantFormGroup.controls['restaurantDiscount'].errors && !restaurantFormGroup.controls['restaurantDiscount'].pristine"
            class="invalid-feedback">
            <div [hidden]="!restaurantFormGroup.controls['restaurantDiscount'].errors.required">Discount is required.</div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-4">
          <div class="form-group">
            <label>Min Amount</label>
            <input type="text" class="form-control" currencyMask [ngClass]="{'is-invalid': restaurantFormGroup.controls['restaurantMinimumAmount'].errors && !restaurantFormGroup.controls['restaurantMinimumAmount'].pristine}"
              name="restaurantMinimumAmount" id="restaurantMinimumAmount" formControlName="restaurantMinimumAmount">
            <div *ngIf="restaurantFormGroup.controls['restaurantMinimumAmount'].errors && !restaurantFormGroup.controls['restaurantMinimumAmount'].pristine"
              class="invalid-feedback">
              <div [hidden]="!restaurantFormGroup.controls['restaurantMinimumAmount'].errors.required">Min Amount is required.</div>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="form-group">
            <label>Individual Delivery Charge</label>
            <input type="text" class="form-control" currencyMask [ngClass]="{'is-invalid': restaurantFormGroup.controls['restaurantIndividualDeliveryFee'].errors && !restaurantFormGroup.controls['restaurantIndividualDeliveryFee'].pristine}"
              name="restaurantIndividualDeliveryFee" id="restaurantIndividualDeliveryFee" formControlName="restaurantIndividualDeliveryFee">
            <div *ngIf="restaurantFormGroup.controls['restaurantIndividualDeliveryFee'].errors && !restaurantFormGroup.controls['restaurantIndividualDeliveryFee'].pristine"
              class="invalid-feedback">
              <div [hidden]="!restaurantFormGroup.controls['restaurantIndividualDeliveryFee'].errors.required">Individual Delivery Amount is required.</div>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="form-group">
            <label>Catering Delivery Charge</label>
            <input type="text" class="form-control" currencyMask [ngClass]="{'is-invalid': restaurantFormGroup.controls['restaurantCateringDeliveryFee'].errors && !restaurantFormGroup.controls['restaurantCateringDeliveryFee'].pristine}"
              name="restaurantCateringDeliveryFee" id="restaurantCateringDeliveryFee" formControlName="restaurantCateringDeliveryFee">
            <div *ngIf="restaurantFormGroup.controls['restaurantCateringDeliveryFee'].errors && !restaurantFormGroup.controls['restaurantCateringDeliveryFee'].pristine"
              class="invalid-feedback">
              <div [hidden]="!restaurantFormGroup.controls['restaurantCateringDeliveryFee'].errors.required">ICatering Delivery Amount is required.</div>
            </div>
          </div>
        </div>
      </div>
      <div class="clearfix">
        <button type="submit" class="btn btn-primary float-right" [ngClass]="{'loading': isLoading}" (click)="saveRestaurant()" [disabled]="restaurantFormGroup.invalid">Save</button>
      </div>
    </form>
  </div>
</div>
